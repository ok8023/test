(function(dH){dH.fn.theiaStickySidebar=function(dW){var bW={containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:true,minWidth:0,disableOnResponsiveLayouts:true,sidebarBehavior:"modern"};dW=dH.extend(bW,dW);dW.additionalMarginTop=parseInt(dW.additionalMarginTop)||0;dW.additionalMarginBottom=parseInt(dW.additionalMarginBottom)||0;eW(dW,this);function eW(dW,bW){var eW=ac(dW,bW);if(!eW){console.log("TST: Body width smaller than options.minWidth. Init is delayed.");dH(document).scroll(function(dW,bW){return function(eW){var fV=ac(dW,bW);if(fV){dH(this).unbind(eW)}}}(dW,bW));dH(window).resize(function(dW,bW){return function(eW){var fV=ac(dW,bW);if(fV){dH(this).unbind(eW)}}}(dW,bW))}}function ac(dW,bW){if(dW.initialized===true){return true}if(dH("body").width()<dW.minWidth){return false}fV(dW,bW);return true}function fV(dW,bW){dW.initialized=true;dH("head").append(dH('<style>.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>'));bW.each(function(){var bW={};bW.sidebar=dH(this);bW.options=dW||{};bW.container=dH(bW.options.containerSelector);if(bW.container.length==0){bW.container=bW.sidebar.parent()}bW.sidebar.parents().css("-webkit-transform","none");bW.sidebar.css({position:"relative",overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"});bW.stickySidebar=bW.sidebar.find(".theiaStickySidebar");if(bW.stickySidebar.length==0){var eW=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;bW.sidebar.find("script").filter(function(dH,dW){return dW.type.length===0||dW.type.match(eW)}).remove();bW.stickySidebar=dH("<div>").addClass("theiaStickySidebar").append(bW.sidebar.children());bW.sidebar.append(bW.stickySidebar)}bW.marginTop=parseInt(bW.sidebar.css("margin-top"));bW.marginBottom=parseInt(bW.sidebar.css("margin-bottom"));bW.paddingTop=parseInt(bW.sidebar.css("padding-top"));bW.paddingBottom=parseInt(bW.sidebar.css("padding-bottom"));var ac=bW.stickySidebar.offset().top;var fV=bW.stickySidebar.outerHeight();bW.stickySidebar.css("padding-top",0);bW.stickySidebar.css("padding-bottom",0);ac-=bW.stickySidebar.offset().top;fV=bW.stickySidebar.outerHeight()-fV-ac;if(ac==0){bW.stickySidebar.css("padding-top",0);bW.stickySidebarPaddingTop=0}else{bW.stickySidebarPaddingTop=0}if(fV==0){bW.stickySidebar.css("padding-bottom",0);bW.stickySidebarPaddingBottom=0}else{bW.stickySidebarPaddingBottom=0}bW.previousScrollTop=null;bW.fixedScrollTop=0;dG();bW.onScroll=function(bW){if(!bW.stickySidebar.is(":visible")){return}if(dH("body").width()<bW.options.minWidth){dG();return}if(bW.options.disableOnResponsiveLayouts){var eW=bW.sidebar.outerWidth(bW.sidebar.css("float")=="none");if(eW+50>bW.container.width()){dG();return}}var ac=dH(document).scrollTop();var fV="static";if(ac>=bW.container.offset().top+(bW.paddingTop+bW.marginTop-bW.options.additionalMarginTop)){var eB=bW.paddingTop+bW.marginTop+dW.additionalMarginTop;var gF=bW.paddingBottom+bW.marginBottom+dW.additionalMarginBottom;var dM=bW.container.offset().top;var fc=bW.container.offset().top+fd(bW.container);var aM=0+dW.additionalMarginTop;var cT;var bZ=bW.stickySidebar.outerHeight()+eB+gF<dH(window).height();if(bZ){cT=aM+bW.stickySidebar.outerHeight()}else{cT=dH(window).height()-bW.marginBottom-bW.paddingBottom-dW.additionalMarginBottom}var bV=dM-ac+bW.paddingTop+bW.marginTop;var fY=fc-ac-bW.paddingBottom-bW.marginBottom;var bN=bW.stickySidebar.offset().top-ac;var gi=bW.previousScrollTop-ac;if(bW.stickySidebar.css("position")=="fixed"){if(bW.options.sidebarBehavior=="modern"){bN+=gi}}if(bW.options.sidebarBehavior=="stick-to-top"){bN=dW.additionalMarginTop}if(bW.options.sidebarBehavior=="stick-to-bottom"){bN=cT-bW.stickySidebar.outerHeight()}if(gi>0){bN=Math.min(bN,aM)}else{bN=Math.max(bN,cT-bW.stickySidebar.outerHeight())}bN=Math.max(bN,bV);bN=Math.min(bN,fY-bW.stickySidebar.outerHeight());var di=bW.container.height()==bW.stickySidebar.outerHeight();if(!di&&bN==aM){fV="fixed"}else if(!di&&bN==cT-bW.stickySidebar.outerHeight()){fV="fixed"}else if(ac+bN-bW.sidebar.offset().top-bW.paddingTop<=dW.additionalMarginTop){fV="static"}else{fV="absolute"}}if(fV=="fixed"){bW.stickySidebar.css({position:"fixed",width:bW.sidebar.width(),top:bN,left:bW.sidebar.offset().left+parseInt(bW.sidebar.css("padding-left"))})}else if(fV=="absolute"){var af={};if(bW.stickySidebar.css("position")!="absolute"){af.position="absolute";af.top=ac+bN-bW.sidebar.offset().top-bW.stickySidebarPaddingTop-bW.stickySidebarPaddingBottom}af.width=bW.sidebar.width();af.left="";bW.stickySidebar.css(af)}else if(fV=="static"){dG()}if(fV!="static"){if(bW.options.updateSidebarHeight==true){bW.sidebar.css({"min-height":bW.stickySidebar.outerHeight()+bW.stickySidebar.offset().top-bW.sidebar.offset().top+bW.paddingBottom})}}bW.previousScrollTop=ac};bW.onScroll(bW);dH(document).scroll(function(dH){return function(){dH.onScroll(dH)}}(bW));dH(window).resize(function(dH){return function(){dH.stickySidebar.css({position:"static"});dH.onScroll(dH)}}(bW));function dG(){bW.fixedScrollTop=0;bW.sidebar.css({"min-height":"0px"});bW.stickySidebar.css({position:"static",width:""})}function fd(dW){var bW=dW.height();dW.children().each(function(){bW=Math.max(bW,dH(this).height())});return bW}})}}})(jQuery);$(document).ready(function(){$(".home-main .sidebar").theiaStickySidebar({additionalMarginTop:24,additionalMarginBottom:10})});